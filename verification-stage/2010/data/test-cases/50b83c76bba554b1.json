{"uid":"50b83c76bba554b1","name":"trigger works only once","fullName":"triggers trigger works only once","historyId":"75a43240-c1a9-58fa-afa6-be2315d5235f","time":{"start":1705999098658,"stop":1705999112073,"duration":13415},"description":"Check if there are any duplicated in table with triggered inserts","descriptionHtml":"<p>Check if there are any duplicated in table with triggered inserts</p>\n","status":"failed","statusMessage":"Error: expect(received).toBeNull()\n\nReceived: [AuthApiError: duplicate key value violates unique constraint \"users_email_partial_key\"]","statusTrace":"\n    at Triggers.createUser (/home/runner/work/tests/tests/restore/features/hooks.ts:78:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Triggers.createSignedInSupaClient (/home/runner/work/tests/tests/restore/features/hooks.ts:157:22)\n    at Triggers.trigger works only once (/home/runner/work/tests/tests/restore/features/triggers.spec.ts:17:32)","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"Check if there are any duplicated in table with triggered inserts","status":"failed","statusMessage":"Error: expect(received).toBeNull()\n\nReceived: [AuthApiError: duplicate key value violates unique constraint \"users_email_partial_key\"]","statusTrace":"\n    at Triggers.createUser (/home/runner/work/tests/tests/restore/features/hooks.ts:78:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Triggers.createSignedInSupaClient (/home/runner/work/tests/tests/restore/features/hooks.ts:157:22)\n    at Triggers.trigger works only once (/home/runner/work/tests/tests/restore/features/triggers.spec.ts:17:32)","steps":[{"name":"Create signed in supabase client","time":{"start":1705999098661,"stop":1705999112068,"duration":13407},"status":"failed","statusMessage":"expect(received).toBeNull()\n\nReceived: [AuthApiError: duplicate key value violates unique constraint \"users_email_partial_key\"]","statusTrace":"Error: expect(received).toBeNull()\n\nReceived: [AuthApiError: duplicate key value violates unique constraint \"users_email_partial_key\"]\n    at Triggers.createUser (/home/runner/work/tests/tests/restore/features/hooks.ts:78:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Triggers.createSignedInSupaClient (/home/runner/work/tests/tests/restore/features/hooks.ts:157:22)\n    at Triggers.trigger works only once (/home/runner/work/tests/tests/restore/features/triggers.spec.ts:17:32)","steps":[{"name":"Create a valid user","time":{"start":1705999098663,"stop":1705999112068,"duration":13405},"status":"failed","statusMessage":"expect(received).toBeNull()\n\nReceived: [AuthApiError: duplicate key value violates unique constraint \"users_email_partial_key\"]","statusTrace":"Error: expect(received).toBeNull()\n\nReceived: [AuthApiError: duplicate key value violates unique constraint \"users_email_partial_key\"]\n    at Triggers.createUser (/home/runner/work/tests/tests/restore/features/hooks.ts:78:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Triggers.createSignedInSupaClient (/home/runner/work/tests/tests/restore/features/hooks.ts:157:22)\n    at Triggers.trigger works only once (/home/runner/work/tests/tests/restore/features/triggers.spec.ts:17:32)","steps":[{"name":"Create Supabase client","time":{"start":1705999098664,"stop":1705999098665,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"I sign up with a valid email and password","time":{"start":1705999098667,"stop":1705999112063,"duration":13396},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"thread","value":"02"},{"name":"package","value":"triggers"},{"name":"parentSuite","value":"triggers"},{"name":"severity","value":"normal"},{"name":"feature","value":"Triggers"},{"name":"framework","value":"jest"},{"name":"language","value":"typescript/javascript"},{"name":"host","value":"fv-az771-165"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":30,"broken":0,"skipped":0,"passed":1344,"unknown":0,"total":1374},"items":[{"uid":"9b78dd90d770f097","reportUrl":"https://supabase.github.io/test-reports/verification-stage/2009//#testresult/9b78dd90d770f097","status":"passed","time":{"start":1705997534242,"stop":1705997539432,"duration":5190}},{"uid":"1c0d611d6b2595ed","reportUrl":"https://supabase.github.io/test-reports/verification-stage/2008//#testresult/1c0d611d6b2595ed","status":"passed","time":{"start":1705995634653,"stop":1705995640199,"duration":5546}},{"uid":"fbed3b1a57c36c6c","reportUrl":"https://supabase.github.io/test-reports/verification-stage/2007//#testresult/fbed3b1a57c36c6c","status":"passed","time":{"start":1705985264935,"stop":1705985270151,"duration":5216}},{"uid":"3aa5b2a22aa6eb76","reportUrl":"https://supabase.github.io/test-reports/verification-stage/2006//#testresult/3aa5b2a22aa6eb76","status":"passed","time":{"start":1705983194568,"stop":1705983200157,"duration":5589}},{"uid":"c868acb474445a78","reportUrl":"https://supabase.github.io/test-reports/verification-stage/2005//#testresult/c868acb474445a78","status":"passed","time":{"start":1705982310242,"stop":1705982315194,"duration":4952}},{"uid":"1b0d0a5cfca2e7c9","reportUrl":"https://supabase.github.io/test-reports/verification-stage/2004//#testresult/1b0d0a5cfca2e7c9","status":"passed","time":{"start":1705970974363,"stop":1705970979359,"duration":4996}},{"uid":"b10f887276b86d2c","reportUrl":"https://supabase.github.io/test-reports/verification-stage/2003//#testresult/b10f887276b86d2c","status":"passed","time":{"start":1705970067913,"stop":1705970073391,"duration":5478}},{"uid":"9d8ef0d191a785e4","reportUrl":"https://supabase.github.io/test-reports/verification-stage/2002//#testresult/9d8ef0d191a785e4","status":"passed","time":{"start":1705967263839,"stop":1705967268733,"duration":4894}},{"uid":"3595ac0f695b2148","reportUrl":"https://supabase.github.io/test-reports/verification-stage/2001//#testresult/3595ac0f695b2148","status":"passed","time":{"start":1705966366183,"stop":1705966375721,"duration":9538}},{"uid":"43e3e3bdef389c20","reportUrl":"https://supabase.github.io/test-reports/verification-stage/2000//#testresult/43e3e3bdef389c20","status":"passed","time":{"start":1705954352918,"stop":1705954358224,"duration":5306}},{"uid":"fc3833868a2cdfb1","reportUrl":"https://supabase.github.io/test-reports/verification-stage/1999//#testresult/fc3833868a2cdfb1","status":"passed","time":{"start":1705922819261,"stop":1705922824281,"duration":5020}},{"uid":"5a5d4bb667d5e2a4","reportUrl":"https://supabase.github.io/test-reports/verification-stage/1998//#testresult/5a5d4bb667d5e2a4","status":"passed","time":{"start":1705921896790,"stop":1705921901928,"duration":5138}},{"uid":"80ded1f992849190","reportUrl":"https://supabase.github.io/test-reports/verification-stage/1997//#testresult/80ded1f992849190","status":"passed","time":{"start":1705911142097,"stop":1705911146987,"duration":4890}},{"uid":"b0f4330e2ab7eb5","reportUrl":"https://supabase.github.io/test-reports/verification-stage/1996//#testresult/b0f4330e2ab7eb5","status":"passed","time":{"start":1705867954879,"stop":1705867960168,"duration":5289}},{"uid":"66208079d3f5863b","reportUrl":"https://supabase.github.io/test-reports/verification-stage/1995//#testresult/66208079d3f5863b","status":"passed","time":{"start":1705824707099,"stop":1705824712013,"duration":4914}},{"uid":"24dda5e2583a6300","reportUrl":"https://supabase.github.io/test-reports/verification-stage/1994//#testresult/24dda5e2583a6300","status":"passed","time":{"start":1705781520333,"stop":1705781525354,"duration":5021}},{"uid":"9ad40c25cf1c3e12","reportUrl":"https://supabase.github.io/test-reports/verification-stage/1993//#testresult/9ad40c25cf1c3e12","status":"passed","time":{"start":1705738347668,"stop":1705738352977,"duration":5309}},{"uid":"75f67d9561dec5bc","reportUrl":"https://supabase.github.io/test-reports/verification-stage/1992//#testresult/75f67d9561dec5bc","status":"passed","time":{"start":1705695207494,"stop":1705695213006,"duration":5512}},{"uid":"eed8da849248e03","reportUrl":"https://supabase.github.io/test-reports/verification-stage/1991//#testresult/eed8da849248e03","status":"passed","time":{"start":1705679665721,"stop":1705679671119,"duration":5398}},{"uid":"2c321bcddef18162","reportUrl":"https://supabase.github.io/test-reports/verification-stage/1990//#testresult/2c321bcddef18162","status":"passed","time":{"start":1705675887833,"stop":1705675892831,"duration":4998}}]},"tags":[]},"source":"50b83c76bba554b1.json","parameterValues":[]}