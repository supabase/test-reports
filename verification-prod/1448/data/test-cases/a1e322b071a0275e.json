{"uid":"a1e322b071a0275e","name":"trigger works only once","fullName":"triggers trigger works only once","historyId":"75a43240-c1a9-58fa-afa6-be2315d5235f","time":{"start":1706300268783,"stop":1706300272087,"duration":3304},"description":"Check if there are any duplicated in table with triggered inserts","descriptionHtml":"<p>Check if there are any duplicated in table with triggered inserts</p>\n","status":"failed","statusMessage":"PostgresError: Tenant or user not found","statusTrace":"\n    at ErrorResponse (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/connection.js:768:26)\n    at handle (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/connection.js:471:6)\n    at Socket.data (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/connection.js:312:9)\n    at Socket.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at Socket.Readable.push (node:internal/streams/readable:228:10)\n    at TCP.onStreamRead (node:internal/stream_base_commons:190:23)\n    at cachedError (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/query.js:171:23)\n    at new Query (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/query.js:36:24)\n    at Function.sql (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/index.js:111:11)\n    at Triggers.trigger works only once (/home/runner/work/tests/tests/restore/features/triggers.spec.ts:33:22)","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"Check if there are any duplicated in table with triggered inserts","status":"failed","statusMessage":"PostgresError: Tenant or user not found","statusTrace":"\n    at ErrorResponse (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/connection.js:768:26)\n    at handle (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/connection.js:471:6)\n    at Socket.data (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/connection.js:312:9)\n    at Socket.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at Socket.Readable.push (node:internal/streams/readable:228:10)\n    at TCP.onStreamRead (node:internal/stream_base_commons:190:23)\n    at cachedError (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/query.js:171:23)\n    at new Query (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/query.js:36:24)\n    at Function.sql (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/index.js:111:11)\n    at Triggers.trigger works only once (/home/runner/work/tests/tests/restore/features/triggers.spec.ts:33:22)","steps":[{"name":"Create signed in supabase client","time":{"start":1706300268787,"stop":1706300270712,"duration":1925},"status":"passed","steps":[{"name":"Create a valid user","time":{"start":1706300268792,"stop":1706300269741,"duration":949},"status":"passed","steps":[{"name":"Create Supabase client","time":{"start":1706300268793,"stop":1706300268794,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"I sign up with a valid email and password","time":{"start":1706300268796,"stop":1706300269740,"duration":944},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Create Supabase client","time":{"start":1706300269741,"stop":1706300269741,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"User inserts profile","time":{"start":1706300270712,"stop":1706300271654,"duration":942},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Check if there are rows with duplicate username in profile_insert table","time":{"start":1706300271655,"stop":1706300271655,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"thread","value":"02"},{"name":"package","value":"triggers"},{"name":"parentSuite","value":"triggers"},{"name":"severity","value":"normal"},{"name":"feature","value":"Triggers"},{"name":"framework","value":"jest"},{"name":"language","value":"typescript/javascript"},{"name":"host","value":"fv-az1425-231"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":19,"broken":0,"skipped":0,"passed":925,"unknown":0,"total":944},"items":[{"uid":"9f810a1db01f7a73","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1447//#testresult/9f810a1db01f7a73","status":"passed","time":{"start":1706271438667,"stop":1706271444065,"duration":5398}},{"uid":"911dcbc0653cd45","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1446//#testresult/911dcbc0653cd45","status":"passed","time":{"start":1706267268454,"stop":1706267272456,"duration":4002}},{"uid":"ab53294fb221249","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1445//#testresult/ab53294fb221249","status":"passed","time":{"start":1706266140863,"stop":1706266145027,"duration":4164}},{"uid":"3cef9b72d45c8f2e","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1444//#testresult/3cef9b72d45c8f2e","status":"passed","time":{"start":1706265028190,"stop":1706265032384,"duration":4194}},{"uid":"a268259d297a9504","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1443//#testresult/a268259d297a9504","status":"passed","time":{"start":1706263979582,"stop":1706263985135,"duration":5553}},{"uid":"30605b879ec71824","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1442//#testresult/30605b879ec71824","status":"passed","time":{"start":1706244976659,"stop":1706244981223,"duration":4564}},{"uid":"12fbf15f1fe02f0b","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1441//#testresult/12fbf15f1fe02f0b","status":"passed","time":{"start":1706213724237,"stop":1706213728288,"duration":4051}},{"uid":"c77e0ff6643d48cb","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1440//#testresult/c77e0ff6643d48cb","status":"passed","time":{"start":1706185207099,"stop":1706185212021,"duration":4922}},{"uid":"8491248869107d5e","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1439//#testresult/8491248869107d5e","status":"passed","time":{"start":1706161022577,"stop":1706161026412,"duration":3835}},{"uid":"e464c50df84aefdc","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1437//#testresult/e464c50df84aefdc","status":"passed","time":{"start":1706159983362,"stop":1706159988279,"duration":4917}},{"uid":"86d79abec6f7eb9f","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1436//#testresult/86d79abec6f7eb9f","status":"passed","time":{"start":1706156276525,"stop":1706156281407,"duration":4882}},{"uid":"74cf3dff07ea1e44","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1435//#testresult/74cf3dff07ea1e44","status":"passed","time":{"start":1706127490854,"stop":1706127496349,"duration":5495}},{"uid":"a64c6f596eb1cc66","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1434//#testresult/a64c6f596eb1cc66","status":"passed","time":{"start":1706098726473,"stop":1706098731306,"duration":4833}},{"uid":"f81eb0c6380989b","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1433//#testresult/f81eb0c6380989b","status":"passed","time":{"start":1706082024992,"stop":1706082029259,"duration":4267}},{"uid":"c406054fe9e255ff","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1432//#testresult/c406054fe9e255ff","status":"passed","time":{"start":1706080912949,"stop":1706080916912,"duration":3963}},{"uid":"b2d2aa89a272f7b9","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1431//#testresult/b2d2aa89a272f7b9","status":"passed","time":{"start":1706078412350,"stop":1706078416679,"duration":4329}},{"uid":"e46c734b493053a3","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1430//#testresult/e46c734b493053a3","status":"passed","time":{"start":1706077343084,"stop":1706077347832,"duration":4748}},{"uid":"4188eb1287311e48","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1428//#testresult/4188eb1287311e48","status":"passed","time":{"start":1706040993312,"stop":1706040997888,"duration":4576}},{"uid":"cbd7a72d56d7110d","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1427//#testresult/cbd7a72d56d7110d","status":"passed","time":{"start":1706012299628,"stop":1706012304591,"duration":4963}},{"uid":"8ff012720f1bf987","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1426//#testresult/8ff012720f1bf987","status":"passed","time":{"start":1706000770845,"stop":1706000775739,"duration":4894}}]},"tags":[]},"source":"a1e322b071a0275e.json","parameterValues":[]}