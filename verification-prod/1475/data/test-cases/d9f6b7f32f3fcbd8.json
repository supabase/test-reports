{"uid":"d9f6b7f32f3fcbd8","name":"trigger works only once","fullName":"triggers trigger works only once","historyId":"75a43240-c1a9-58fa-afa6-be2315d5235f","time":{"start":1706648966809,"stop":1706648969739,"duration":2930},"description":"Check if there are any duplicated in table with triggered inserts","descriptionHtml":"<p>Check if there are any duplicated in table with triggered inserts</p>\n","status":"failed","statusMessage":"PostgresError: Tenant or user not found","statusTrace":"\n    at ErrorResponse (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/connection.js:768:26)\n    at handle (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/connection.js:471:6)\n    at Socket.data (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/connection.js:312:9)\n    at Socket.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at Socket.Readable.push (node:internal/streams/readable:228:10)\n    at TCP.onStreamRead (node:internal/stream_base_commons:190:23)\n    at cachedError (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/query.js:171:23)\n    at new Query (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/query.js:36:24)\n    at Function.sql (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/index.js:111:11)\n    at Triggers.trigger works only once (/home/runner/work/tests/tests/restore/features/triggers.spec.ts:33:22)","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"Check if there are any duplicated in table with triggered inserts","status":"failed","statusMessage":"PostgresError: Tenant or user not found","statusTrace":"\n    at ErrorResponse (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/connection.js:768:26)\n    at handle (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/connection.js:471:6)\n    at Socket.data (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/connection.js:312:9)\n    at Socket.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at Socket.Readable.push (node:internal/streams/readable:228:10)\n    at TCP.onStreamRead (node:internal/stream_base_commons:190:23)\n    at cachedError (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/query.js:171:23)\n    at new Query (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/query.js:36:24)\n    at Function.sql (/home/runner/work/tests/tests/restore/node_modules/postgres/cjs/src/index.js:111:11)\n    at Triggers.trigger works only once (/home/runner/work/tests/tests/restore/features/triggers.spec.ts:33:22)","steps":[{"name":"Create signed in supabase client","time":{"start":1706648966813,"stop":1706648968404,"duration":1591},"status":"passed","steps":[{"name":"Create a valid user","time":{"start":1706648966815,"stop":1706648967846,"duration":1031},"status":"passed","steps":[{"name":"Create Supabase client","time":{"start":1706648966816,"stop":1706648966817,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"I sign up with a valid email and password","time":{"start":1706648966819,"stop":1706648967845,"duration":1026},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Create Supabase client","time":{"start":1706648967846,"stop":1706648967847,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"User inserts profile","time":{"start":1706648968404,"stop":1706648969306,"duration":902},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Check if there are rows with duplicate username in profile_insert table","time":{"start":1706648969307,"stop":1706648969307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"thread","value":"02"},{"name":"package","value":"triggers"},{"name":"parentSuite","value":"triggers"},{"name":"severity","value":"normal"},{"name":"feature","value":"Triggers"},{"name":"framework","value":"jest"},{"name":"language","value":"typescript/javascript"},{"name":"host","value":"fv-az912-14"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":22,"broken":0,"skipped":0,"passed":946,"unknown":0,"total":968},"items":[{"uid":"a4c2331745b8d0c9","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1474//#testresult/a4c2331745b8d0c9","status":"passed","time":{"start":1706647312428,"stop":1706647316715,"duration":4287}},{"uid":"a3bf39c36fe7d782","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1473//#testresult/a3bf39c36fe7d782","status":"passed","time":{"start":1706645763524,"stop":1706645768379,"duration":4855}},{"uid":"3a85fa54428d768e","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1472//#testresult/3a85fa54428d768e","status":"passed","time":{"start":1706625298604,"stop":1706625302989,"duration":4385}},{"uid":"60665fca2275d6c","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1470//#testresult/60665fca2275d6c","status":"passed","time":{"start":1706619447661,"stop":1706619452708,"duration":5047}},{"uid":"2d7efde4f72fa604","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1469//#testresult/2d7efde4f72fa604","status":"passed","time":{"start":1706617146006,"stop":1706617149621,"duration":3615}},{"uid":"4ca10059edc86c1d","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1467//#testresult/4ca10059edc86c1d","status":"passed","time":{"start":1706601691494,"stop":1706601695664,"duration":4170}},{"uid":"80a97a606caeb539","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1466//#testresult/80a97a606caeb539","status":"passed","time":{"start":1706600679054,"stop":1706600684128,"duration":5074}},{"uid":"781f4bc3238045fa","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1465//#testresult/781f4bc3238045fa","status":"passed","time":{"start":1706588232353,"stop":1706588237502,"duration":5149}},{"uid":"2ac0edf94764c968","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1464//#testresult/2ac0edf94764c968","status":"passed","time":{"start":1706584634535,"stop":1706584639481,"duration":4946}},{"uid":"7d482b0ae48e84d6","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1463//#testresult/7d482b0ae48e84d6","status":"passed","time":{"start":1706583568419,"stop":1706583573900,"duration":5481}},{"uid":"4bb829912b865a2","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1462//#testresult/4bb829912b865a2","status":"passed","time":{"start":1706559313536,"stop":1706559317754,"duration":4218}},{"uid":"2ad64b5616b44dc5","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1461//#testresult/2ad64b5616b44dc5","status":"passed","time":{"start":1706548712664,"stop":1706548717644,"duration":4980}},{"uid":"e0ea0e6b79ee09fd","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1460//#testresult/e0ea0e6b79ee09fd","status":"passed","time":{"start":1706543605761,"stop":1706543610378,"duration":4617}},{"uid":"9823fb7f968e40da","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1460//#testresult/9823fb7f968e40da","status":"failed","statusDetails":"Error: expect(received).toBeNull()\n\nReceived: [AuthUnknownError: invalid json response body at https://mrqwnjlppnhvlnttdbch.supabase.co/auth/v1/signup reason: Unexpected token < in JSON at position 0]","time":{"start":1706540812090,"stop":1706540812938,"duration":848}},{"uid":"90e4574a162ed245","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1460//#testresult/90e4574a162ed245","status":"failed","statusDetails":"FetchError: request to https://zkfgiyvwknyssujlgpla.supabase.co/auth/v1/signup failed, reason: getaddrinfo ENOTFOUND zkfgiyvwknyssujlgpla.supabase.co","time":{"start":1706539845416,"stop":1706539845517,"duration":101}},{"uid":"a3d1ad767a0271f7","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1456//#testresult/a3d1ad767a0271f7","status":"passed","time":{"start":1706501911175,"stop":1706501916894,"duration":5719}},{"uid":"f8fcb022a867945b","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1455//#testresult/f8fcb022a867945b","status":"passed","time":{"start":1706472973283,"stop":1706472978129,"duration":4846}},{"uid":"8108ea68da5f8f1e","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1454//#testresult/8108ea68da5f8f1e","status":"passed","time":{"start":1706444222928,"stop":1706444226976,"duration":4048}},{"uid":"240e7763d5e2e37e","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1453//#testresult/240e7763d5e2e37e","status":"passed","time":{"start":1706415311033,"stop":1706415314507,"duration":3474}},{"uid":"92a0dc260e50b117","reportUrl":"https://supabase.github.io/test-reports/verification-prod/1452//#testresult/92a0dc260e50b117","status":"passed","time":{"start":1706386575002,"stop":1706386580055,"duration":5053}}]},"tags":[]},"source":"d9f6b7f32f3fcbd8.json","parameterValues":[]}