{"uid":"2ec95a9f64c5baa2","name":"user cannot create bucket because of RLS 1","fullName":"storage user cannot create bucket because of RLS user cannot create bucket because of RLS 1","historyId":"c1706f73-4dac-5343-9394-668bf98a7a7b","time":{"start":1673531533845,"stop":1673531533848,"duration":3},"description":"There has to be default RLS policy to not allow users to create bucket","descriptionHtml":"<p>There has to be default RLS policy to not allow users to create bucket</p>\n","status":"failed","statusMessage":"TypeError: Cannot set property 'fetch' of undefined","statusTrace":"\n    at Storage.createSupaClient (/home/runner/work/tests/tests/integration/features/hooks.ts:44:25)\n    at /home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:70:67\n    at /home/runner/work/tests/tests/integration/node_modules/allure-js-commons/src/ExecutableItemWrapper.ts:86:18\n    at AllureReporter.step (/home/runner/work/tests/tests/integration/node_modules/jest-allure2-adapter/dist/allure-reporter.js:207:43)\n    at Storage.callable (/home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:70:40)\n    at Storage.descriptor.value (/home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:77:25)\n    at Storage.<anonymous> (/home/runner/work/tests/tests/integration/features/hooks.ts:56:27)\n    at Generator.next (<anonymous>)\n    at /home/runner/work/tests/tests/integration/features/hooks.ts:17:71\n    at new Promise (<anonymous>)","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"There has to be default RLS policy to not allow users to create bucket","status":"failed","statusMessage":"TypeError: Cannot set property 'fetch' of undefined","statusTrace":"\n    at Storage.createSupaClient (/home/runner/work/tests/tests/integration/features/hooks.ts:44:25)\n    at /home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:70:67\n    at /home/runner/work/tests/tests/integration/node_modules/allure-js-commons/src/ExecutableItemWrapper.ts:86:18\n    at AllureReporter.step (/home/runner/work/tests/tests/integration/node_modules/jest-allure2-adapter/dist/allure-reporter.js:207:43)\n    at Storage.callable (/home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:70:40)\n    at Storage.descriptor.value (/home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:77:25)\n    at Storage.<anonymous> (/home/runner/work/tests/tests/integration/features/hooks.ts:56:27)\n    at Generator.next (<anonymous>)\n    at /home/runner/work/tests/tests/integration/features/hooks.ts:17:71\n    at new Promise (<anonymous>)","steps":[{"name":"Create signed in supabase client","time":{"start":1673531533846,"stop":1673531533847,"duration":1},"status":"failed","statusMessage":"Cannot set property 'fetch' of undefined","statusTrace":"TypeError: Cannot set property 'fetch' of undefined\n    at Storage.createSupaClient (/home/runner/work/tests/tests/integration/features/hooks.ts:44:25)\n    at /home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:70:67\n    at /home/runner/work/tests/tests/integration/node_modules/allure-js-commons/src/ExecutableItemWrapper.ts:86:18\n    at AllureReporter.step (/home/runner/work/tests/tests/integration/node_modules/jest-allure2-adapter/dist/allure-reporter.js:207:43)\n    at Storage.callable (/home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:70:40)\n    at Storage.descriptor.value (/home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:77:25)\n    at Storage.<anonymous> (/home/runner/work/tests/tests/integration/features/hooks.ts:56:27)\n    at Generator.next (<anonymous>)\n    at /home/runner/work/tests/tests/integration/features/hooks.ts:17:71\n    at new Promise (<anonymous>)","steps":[{"name":"Create a valid user","time":{"start":1673531533847,"stop":1673531533847,"duration":0},"status":"failed","statusMessage":"Cannot set property 'fetch' of undefined","statusTrace":"TypeError: Cannot set property 'fetch' of undefined\n    at Storage.createSupaClient (/home/runner/work/tests/tests/integration/features/hooks.ts:44:25)\n    at /home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:70:67\n    at /home/runner/work/tests/tests/integration/node_modules/allure-js-commons/src/ExecutableItemWrapper.ts:86:18\n    at AllureReporter.step (/home/runner/work/tests/tests/integration/node_modules/jest-allure2-adapter/dist/allure-reporter.js:207:43)\n    at Storage.callable (/home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:70:40)\n    at Storage.descriptor.value (/home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:77:25)\n    at Storage.<anonymous> (/home/runner/work/tests/tests/integration/features/hooks.ts:56:27)\n    at Generator.next (<anonymous>)\n    at /home/runner/work/tests/tests/integration/features/hooks.ts:17:71\n    at new Promise (<anonymous>)","steps":[{"name":"Create Supabase client","time":{"start":1673531533847,"stop":1673531533847,"duration":0},"status":"failed","statusMessage":"Cannot set property 'fetch' of undefined","statusTrace":"TypeError: Cannot set property 'fetch' of undefined\n    at Storage.createSupaClient (/home/runner/work/tests/tests/integration/features/hooks.ts:44:25)\n    at /home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:70:67\n    at /home/runner/work/tests/tests/integration/node_modules/allure-js-commons/src/ExecutableItemWrapper.ts:86:18\n    at AllureReporter.step (/home/runner/work/tests/tests/integration/node_modules/jest-allure2-adapter/dist/allure-reporter.js:207:43)\n    at Storage.callable (/home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:70:40)\n    at Storage.descriptor.value (/home/runner/work/tests/tests/integration/.jest/jest-custom-reporter.ts:77:25)\n    at Storage.<anonymous> (/home/runner/work/tests/tests/integration/features/hooks.ts:56:27)\n    at Generator.next (<anonymous>)\n    at /home/runner/work/tests/tests/integration/features/hooks.ts:17:71\n    at new Promise (<anonymous>)","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"thread","value":"01"},{"name":"package","value":"storage.user cannot create bucket because of RLS"},{"name":"parentSuite","value":"storage"},{"name":"suite","value":"user cannot create bucket because of RLS"},{"name":"severity","value":"blocker"},{"name":"feature","value":"storage"},{"name":"framework","value":"jest"},{"name":"language","value":"typescript/javascript"},{"name":"host","value":"fv-az397-345"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"blocker","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":31,"unknown":0,"total":32},"items":[{"uid":"e07debef80ec5441","reportUrl":"https://supabase.github.io/test-reports/integration-local/385//#testresult/e07debef80ec5441","status":"passed","time":{"start":1673530736096,"stop":1673530736332,"duration":236}},{"uid":"fc11c400fa7ea680","reportUrl":"https://supabase.github.io/test-reports/integration-local/383//#testresult/fc11c400fa7ea680","status":"passed","time":{"start":1673528318257,"stop":1673528318477,"duration":220}},{"uid":"638179b6a0e0fa36","reportUrl":"https://supabase.github.io/test-reports/integration-local/382//#testresult/638179b6a0e0fa36","status":"passed","time":{"start":1673527329020,"stop":1673527329251,"duration":231}},{"uid":"ae1294fe47591adf","reportUrl":"https://supabase.github.io/test-reports/integration-local/381//#testresult/ae1294fe47591adf","status":"passed","time":{"start":1673517992873,"stop":1673517993113,"duration":240}},{"uid":"25792f0c3a1aba9","reportUrl":"https://supabase.github.io/test-reports/integration-local/380//#testresult/25792f0c3a1aba9","status":"passed","time":{"start":1673496307137,"stop":1673496307371,"duration":234}},{"uid":"7f9d6e6646658829","reportUrl":"https://supabase.github.io/test-reports/integration-local/379//#testresult/7f9d6e6646658829","status":"passed","time":{"start":1673474682259,"stop":1673474682512,"duration":253}},{"uid":"639dad7eaef8406c","reportUrl":"https://supabase.github.io/test-reports/integration-local/378//#testresult/639dad7eaef8406c","status":"passed","time":{"start":1673453298970,"stop":1673453299168,"duration":198}},{"uid":"5258baf9abfee0cb","reportUrl":"https://supabase.github.io/test-reports/integration-local/377//#testresult/5258baf9abfee0cb","status":"passed","time":{"start":1673431578980,"stop":1673431579241,"duration":261}},{"uid":"9c24b79eaf35177b","reportUrl":"https://supabase.github.io/test-reports/integration-local/376//#testresult/9c24b79eaf35177b","status":"passed","time":{"start":1673409897579,"stop":1673409897801,"duration":222}},{"uid":"276eb71fab95cecc","reportUrl":"https://supabase.github.io/test-reports/integration-local/375//#testresult/276eb71fab95cecc","status":"passed","time":{"start":1673388284836,"stop":1673388285065,"duration":229}},{"uid":"f0201927fe107dd8","reportUrl":"https://supabase.github.io/test-reports/integration-local/374//#testresult/f0201927fe107dd8","status":"passed","time":{"start":1673366700539,"stop":1673366700750,"duration":211}},{"uid":"ad3fb764a3df6b68","reportUrl":"https://supabase.github.io/test-reports/integration-local/373//#testresult/ad3fb764a3df6b68","status":"passed","time":{"start":1673345091057,"stop":1673345091251,"duration":194}},{"uid":"1690efae5f8d00eb","reportUrl":"https://supabase.github.io/test-reports/integration-local/372//#testresult/1690efae5f8d00eb","status":"passed","time":{"start":1673323488238,"stop":1673323488462,"duration":224}},{"uid":"a206d6bd7dd104f9","reportUrl":"https://supabase.github.io/test-reports/integration-local/371//#testresult/a206d6bd7dd104f9","status":"passed","time":{"start":1673301869719,"stop":1673301869950,"duration":231}},{"uid":"a8d206fea4595921","reportUrl":"https://supabase.github.io/test-reports/integration-local/370//#testresult/a8d206fea4595921","status":"passed","time":{"start":1673280319819,"stop":1673280320013,"duration":194}},{"uid":"8ced862e33542a41","reportUrl":"https://supabase.github.io/test-reports/integration-local/369//#testresult/8ced862e33542a41","status":"passed","time":{"start":1673258693766,"stop":1673258693959,"duration":193}},{"uid":"ed3e744c5072bcbd","reportUrl":"https://supabase.github.io/test-reports/integration-local/368//#testresult/ed3e744c5072bcbd","status":"passed","time":{"start":1673237124725,"stop":1673237124997,"duration":272}},{"uid":"abb1e70cbafb1710","reportUrl":"https://supabase.github.io/test-reports/integration-local/367//#testresult/abb1e70cbafb1710","status":"passed","time":{"start":1673215476512,"stop":1673215476714,"duration":202}},{"uid":"f6b705c28cfc84e9","reportUrl":"https://supabase.github.io/test-reports/integration-local/366//#testresult/f6b705c28cfc84e9","status":"passed","time":{"start":1673193885232,"stop":1673193885455,"duration":223}},{"uid":"e7b809dcd792de29","reportUrl":"https://supabase.github.io/test-reports/integration-local/365//#testresult/e7b809dcd792de29","status":"passed","time":{"start":1673172278771,"stop":1673172278990,"duration":219}}]},"tags":[]},"source":"2ec95a9f64c5baa2.json","parameterValues":[]}